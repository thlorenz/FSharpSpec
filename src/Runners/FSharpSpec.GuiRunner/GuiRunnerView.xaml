<UserControl xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <UserControl.Resources>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
    </UserControl.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <Border Grid.Column="0" Padding="5" BorderBrush="Gray" BorderThickness="2">
            <TreeView ItemsSource="{Binding ChildContexts}">
                <TreeView.Style>
                    <Style TargetType="{x:Type TreeView}">
                        <Setter Property="ItemTemplate">
                            <Setter.Value>
                                <HierarchicalDataTemplate ItemsSource="{Binding ChildContexts}">
                                    <Expander Header="{Binding Name}">
                                        <ListBox ItemsSource="{Binding SpecContainers}">
                                            <ListBox.ItemTemplate>
                                                <DataTemplate>
                                                    <Expander Header="{Binding Name}" IsExpanded="{Binding IsExpanded}">
                                                        <ItemsControl ItemsSource="{Binding Specifications}" />
                                                    </Expander>
                                                </DataTemplate>
                                            </ListBox.ItemTemplate>
                                        </ListBox>
                                    </Expander>
                                </HierarchicalDataTemplate>
                            </Setter.Value>
                        </Setter>
                       
                    </Style>

                </TreeView.Style>
                <TreeView.ItemContainerStyle>
                    <Style TargetType="{x:Type TreeViewItem}">
                        <Setter Property="IsExpanded" Value="{Binding IsExpanded, Mode=TwoWay}" />
                        <Setter Property="IsSelected" Value="{Binding IsSelected, Mode=TwoWay}" />
                        <Setter Property="FontWeight" Value="Normal" />

                        <Style.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter Property="FontWeight" Value="Bold" />
                                <Setter Property="Background" Value="Yellow" />
                             </Trigger>   
                        </Style.Triggers>
                    </Style>
                </TreeView.ItemContainerStyle>
            </TreeView>
        </Border>
    </Grid>
</UserControl>

